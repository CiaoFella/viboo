@import '../../node_modules/swiper/swiper.min.css';
@import './enterPage.scss';
@import './detail.scss';
@import './home.scss';
@import './cursor.scss';
@import './testimonial-slider.scss';
@import './variables.scss';

[data-anm-case-studies='teaser'] .swiper-wrapper {
  -webkit-transition-timing-function: linear !important;
  transition-timing-function: linear !important;
}

[data-anm-case-studies='teaser'] .swiper-slide {
  img {
    transition: scale $transition-duration-fast $ease-power2-inOut;
  }

  &:hover {
    img {
      scale: 1.05;
    }
  }
}

// Calculator range slider styles
.g_range_slider_wrap {
  cursor: pointer;

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    background-color: var(--_theme---text);
    border-radius: 1px;
    width: var(--slider-progress, 0%);
    transition: width 0s ease;
  }
}

.is-animating {
  position: fixed;
  top: 0;
  left: 0;
  z-index: 9999;
  clip-path: polygon(0% 0%, 100% 0%, 100% 0px, 0% 0px);
  width: 100%;
}

[data-page-loader='section'] {
  display: flex;
}

html {
  height: auto;
}

html.lenis,
html.lenis body {
  height: auto;
}

.lenis.lenis-smooth {
  scroll-behavior: auto !important;
}

.lenis.lenis-smooth [data-lenis-prevent] {
  overscroll-behavior: contain;
}

.lenis.lenis-stopped {
  overflow: hidden;
}

.lenis.lenis-smooth iframe {
  pointer-events: none;
}

/* Logo Carousel */

[data-anm-logo-carousel='wrap'] {
  [data-anm-logo-carousel='overlay'] {
    opacity: 0;
    visibility: hidden;
    transition: opacity $transition-duration $transition-ease, visibility $transition-duration $transition-ease;
  }

  &:hover {
    [data-anm-logo-carousel='overlay'] {
      opacity: 1;
      visibility: visible;
      display: flex;
    }
  }
}

/* Navbar */

[data-anm-navbar='navbar'] {
  scale: 1;
  transform-origin: top center;
  transition: transform $transition-duration $ease-power2-inOut, scale $transition-duration $ease-power2-inOut;

  &.is-hidden {
    transform: translateY(-200%);
    scale: 0.95;
  }
}

// Mobile container hide/show animation
[data-anm-navbar='mobile-container'] {
  background-color: transparent !important;
  transform-origin: top center;

  .nav_mobile_contain {
    background-color: var(--_theme---background) !important;
    transition: background-color $transition-duration-fast $ease-power2-inOut;
    border-radius: 1rem;
  }

  &.is-hidden {
    transform: translateY(-100%);
    opacity: 0;
  }
}

[data-anm-navbar='container'],
[data-anm-navbar='mobile-container'] {
  background-color: var(--_theme---background);
  transition: background-color $transition-duration $ease-power2-inOut, color $transition-duration $ease-power2-inOut,
    backdrop-filter $transition-duration $ease-power2-inOut, max-width $transition-duration $ease-power2-inOut,
    transform $transition-duration-fast $ease-power2-inOut, opacity $transition-duration-fast $ease-power2-inOut !important;

  &.is-transparent {
    background-color: transparent;
    backdrop-filter: none;
  }

  &.is-home-transparent {
    color: var(--_theme---background);
  }

  &.is-light {
    color: var(--_theme---background);

    // Only affect top-level navbar elements, not dropdowns
    .nav_links_text,
    .button_main_text {
      color: var(--_theme---background);
    }

    // Explicitly preserve original colors for dropdown content
    .nav_dropdown_main_wrap,
    .nav_dropdown_mega_wrap {
      color: var(--_theme---text);

      .nav_dropdown_text,
      .nav_dropdown_mega_headline,
      p {
        color: var(--_theme---text);
      }
    }

    // Set mega menu background to dark when navbar is light
    .nav_dropdown_mega_content {
      background-color: var(--_theme---text);
    }

    // Style logos/icons for dark backgrounds if needed
    .nav_desktop_logo,
    .nav_mobile_logo {
      // Add any logo color adjustments for dark backgrounds
    }
  }
}

// Mobile nav specific styling
@media (max-width: 992px) {
  .nav_mobile_layout {
    background-color: transparent !important;
    color: var(--_theme---text) !important;

    // Apply color to all child elements
    .nav_mobile_logo,
    .nav_button_wrap,
    .nav_button_line {
      color: var(--_theme---text);
    }
  }

  // When navbar has is-light class, apply light color on mobile
  [data-anm-navbar='mobile-container'].is-light {
    .nav_mobile_contain {
      background-color: transparent !important;
    }

    .nav_mobile_layout {
      background-color: transparent !important;
      color: var(--_theme---background) !important;

      .nav_mobile_logo,
      .nav_button_wrap,
      .nav_button_line {
        color: var(--_theme---background);
      }
    }

    .nav_mobile_menu_wrap {
      background-color: var(--_theme---text) !important;
    }

    // Override dropdown colors for mobile when is-light
    .nav_dropdown_main_wrap,
    .nav_dropdown_mega_wrap {
      color: inherit !important;

      .nav_dropdown_text,
      .nav_dropdown_mega_headline {
        color: inherit !important;
      }

      .nav_dropdown_mega_card {
        color: var(--_theme---text) !important;
      }
    }
  }
}

[data-anm-logo='logo'] {
  transition: transform $transition-duration $ease-power2-inOut;

  &.is-small {
    transform: scale(0.8);
  }
}
